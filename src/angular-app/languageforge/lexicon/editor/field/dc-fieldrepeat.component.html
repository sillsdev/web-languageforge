<div data-ng-repeat="fieldName in $ctrl.config.fieldOrder">
    <div data-ng-if="!$ctrl.config.fields[fieldName].hideIfEmpty || $ctrl.control.show.emptyFields ||
        ($ctrl.config.fields[fieldName].hideIfEmpty && $ctrl.fieldContainsData($ctrl.config.fields[fieldName].type, $ctrl.model[fieldName]))">
        <div data-ng-switch data-on="$ctrl.config.fields[fieldName].type" class="field-container">
            <div data-ng-switch-when="optionlist">
                <dc-optionlist class="dc-item"
                               control="$ctrl.control"
                               config="$ctrl.config.fields[fieldName]"
                               model="$ctrl.model[fieldName]"
                               items="$ctrl.optionlists[$ctrl.config.fields[fieldName].listCode].items"
                               field-name="fieldName"
                               parent-context-guid="$ctrl.contextGuid"></dc-optionlist>
            </div>
            <div data-ng-switch-when="multioptionlist">
                <dc-multioptionlist data-ng-if="fieldName != 'semanticDomain'" class="dc-item"
                                    control="$ctrl.control"
                                    config="$ctrl.config.fields[fieldName]"
                                    model="$ctrl.model[fieldName]"
                                    items="$ctrl.optionlists[$ctrl.config.fields[fieldName].listCode].items"
                                    field-name="fieldName"
                                    parent-context-guid="$ctrl.contextGuid"></dc-multioptionlist>
                <dc-semanticdomain data-ng-if="fieldName == 'semanticDomain'" class="dc-item"
                                   control="$ctrl.control"
                                   config="$ctrl.config.fields[fieldName]"
                                   model="$ctrl.model[fieldName]"
                                   field-name="fieldName"
                                   parent-context-guid="$ctrl.contextGuid"></dc-semanticdomain>
            </div>
            <div data-ng-switch-when="multitext">
                <dc-multitext class="dc-item"
                              control="$ctrl.control"
                              config="$ctrl.config.fields[fieldName]"
                              model="$ctrl.model[fieldName]"
                              field-name="fieldName"
                              parent-context-guid="$ctrl.contextGuid"></dc-multitext>
            </div>
            <div data-ng-switch-when="multiparagraph">
                <dc-multiparagraph class="dc-item"
                                   control="$ctrl.control"
                                   config="$ctrl.config.fields[fieldName]"
                                   model="$ctrl.model[fieldName]"
                                   field-name="fieldName"
                                   parent-context-guid="$ctrl.contextGuid"></dc-multiparagraph>
            </div>
            <div data-ng-switch-when="pictures">
                <dc-picture class="dc-item"
                            control="$ctrl.control"
                            config="$ctrl.config.fields[fieldName]"
                            pictures="$ctrl.model[fieldName]"
                            field-name="fieldName"
                            parent-context-guid="$ctrl.contextGuid"></dc-picture>
            </div>
            <div data-ng-switch-when="fields"></div>
            <div data-ng-switch-default>unsupported type
                <span class="notranslate">{{$ctrl.config.fields[fieldName].type}}</span> for field <span class="notranslate">{{fieldName}}</span></div>
        </div>
    </div>
</div>
